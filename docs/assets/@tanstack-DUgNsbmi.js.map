{"version":3,"file":"@tanstack-DUgNsbmi.js","sources":["../../node_modules/@tanstack/store/dist/esm/scheduler.js","../../node_modules/@tanstack/store/dist/esm/store.js","../../node_modules/@tanstack/store/dist/esm/derived.js","../../node_modules/@tanstack/react-store/dist/esm/index.js"],"sourcesContent":["import { Derived } from \"./derived.js\";\nconst __storeToDerived = /* @__PURE__ */ new WeakMap();\nconst __derivedToStore = /* @__PURE__ */ new WeakMap();\nconst __depsThatHaveWrittenThisTick = {\n  current: []\n};\nlet __isFlushing = false;\nlet __batchDepth = 0;\nconst __pendingUpdates = /* @__PURE__ */ new Set();\nconst __initialBatchValues = /* @__PURE__ */ new Map();\nfunction __flush_internals(relatedVals) {\n  const sorted = Array.from(relatedVals).sort((a, b) => {\n    if (a instanceof Derived && a.options.deps.includes(b)) return 1;\n    if (b instanceof Derived && b.options.deps.includes(a)) return -1;\n    return 0;\n  });\n  for (const derived of sorted) {\n    if (__depsThatHaveWrittenThisTick.current.includes(derived)) {\n      continue;\n    }\n    __depsThatHaveWrittenThisTick.current.push(derived);\n    derived.recompute();\n    const stores = __derivedToStore.get(derived);\n    if (stores) {\n      for (const store of stores) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(store);\n        if (!relatedLinkedDerivedVals) continue;\n        __flush_internals(relatedLinkedDerivedVals);\n      }\n    }\n  }\n}\nfunction __notifyListeners(store) {\n  store.listeners.forEach(\n    (listener) => listener({\n      prevVal: store.prevState,\n      currentVal: store.state\n    })\n  );\n}\nfunction __notifyDerivedListeners(derived) {\n  derived.listeners.forEach(\n    (listener) => listener({\n      prevVal: derived.prevState,\n      currentVal: derived.state\n    })\n  );\n}\nfunction __flush(store) {\n  if (__batchDepth > 0 && !__initialBatchValues.has(store)) {\n    __initialBatchValues.set(store, store.prevState);\n  }\n  __pendingUpdates.add(store);\n  if (__batchDepth > 0) return;\n  if (__isFlushing) return;\n  try {\n    __isFlushing = true;\n    while (__pendingUpdates.size > 0) {\n      const stores = Array.from(__pendingUpdates);\n      __pendingUpdates.clear();\n      for (const store2 of stores) {\n        const prevState = __initialBatchValues.get(store2) ?? store2.prevState;\n        store2.prevState = prevState;\n        __notifyListeners(store2);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        __depsThatHaveWrittenThisTick.current.push(store2);\n        __flush_internals(derivedVals);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        for (const derived of derivedVals) {\n          __notifyDerivedListeners(derived);\n        }\n      }\n    }\n  } finally {\n    __isFlushing = false;\n    __depsThatHaveWrittenThisTick.current = [];\n    __initialBatchValues.clear();\n  }\n}\nfunction batch(fn) {\n  __batchDepth++;\n  try {\n    fn();\n  } finally {\n    __batchDepth--;\n    if (__batchDepth === 0) {\n      const pendingUpdateToFlush = Array.from(__pendingUpdates)[0];\n      if (pendingUpdateToFlush) {\n        __flush(pendingUpdateToFlush);\n      }\n    }\n  }\n}\nexport {\n  __depsThatHaveWrittenThisTick,\n  __derivedToStore,\n  __flush,\n  __storeToDerived,\n  batch\n};\n//# sourceMappingURL=scheduler.js.map\n","import { __flush } from \"./scheduler.js\";\nclass Store {\n  constructor(initialState, options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options) == null ? void 0 : _a.onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.setState = (updater) => {\n      var _a, _b, _c;\n      this.prevState = this.state;\n      this.state = ((_a = this.options) == null ? void 0 : _a.updateFn) ? this.options.updateFn(this.prevState)(updater) : updater(this.prevState);\n      (_c = (_b = this.options) == null ? void 0 : _b.onUpdate) == null ? void 0 : _c.call(_b);\n      __flush(this);\n    };\n    this.prevState = initialState;\n    this.state = initialState;\n    this.options = options;\n  }\n}\nexport {\n  Store\n};\n//# sourceMappingURL=store.js.map\n","import { Store } from \"./store.js\";\nimport { __storeToDerived, __derivedToStore } from \"./scheduler.js\";\nclass Derived {\n  constructor(options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this._subscriptions = [];\n    this.lastSeenDepValues = [];\n    this.getDepVals = () => {\n      const prevDepVals = [];\n      const currDepVals = [];\n      for (const dep of this.options.deps) {\n        prevDepVals.push(dep.prevState);\n        currDepVals.push(dep.state);\n      }\n      this.lastSeenDepValues = currDepVals;\n      return {\n        prevDepVals,\n        currDepVals,\n        prevVal: this.prevState ?? void 0\n      };\n    };\n    this.recompute = () => {\n      var _a, _b;\n      this.prevState = this.state;\n      const { prevDepVals, currDepVals, prevVal } = this.getDepVals();\n      this.state = this.options.fn({\n        prevDepVals,\n        currDepVals,\n        prevVal\n      });\n      (_b = (_a = this.options).onUpdate) == null ? void 0 : _b.call(_a);\n    };\n    this.checkIfRecalculationNeededDeeply = () => {\n      for (const dep of this.options.deps) {\n        if (dep instanceof Derived) {\n          dep.checkIfRecalculationNeededDeeply();\n        }\n      }\n      let shouldRecompute = false;\n      const lastSeenDepValues = this.lastSeenDepValues;\n      const { currDepVals } = this.getDepVals();\n      for (let i = 0; i < currDepVals.length; i++) {\n        if (currDepVals[i] !== lastSeenDepValues[i]) {\n          shouldRecompute = true;\n          break;\n        }\n      }\n      if (shouldRecompute) {\n        this.recompute();\n      }\n    };\n    this.mount = () => {\n      this.registerOnGraph();\n      this.checkIfRecalculationNeededDeeply();\n      return () => {\n        this.unregisterFromGraph();\n        for (const cleanup of this._subscriptions) {\n          cleanup();\n        }\n      };\n    };\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options).onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.options = options;\n    this.state = options.fn({\n      prevDepVals: void 0,\n      prevVal: void 0,\n      currDepVals: this.getDepVals().currDepVals\n    });\n  }\n  registerOnGraph(deps = this.options.deps) {\n    for (const dep of deps) {\n      if (dep instanceof Derived) {\n        dep.registerOnGraph();\n        this.registerOnGraph(dep.options.deps);\n      } else if (dep instanceof Store) {\n        let relatedLinkedDerivedVals = __storeToDerived.get(dep);\n        if (!relatedLinkedDerivedVals) {\n          relatedLinkedDerivedVals = /* @__PURE__ */ new Set();\n          __storeToDerived.set(dep, relatedLinkedDerivedVals);\n        }\n        relatedLinkedDerivedVals.add(this);\n        let relatedStores = __derivedToStore.get(this);\n        if (!relatedStores) {\n          relatedStores = /* @__PURE__ */ new Set();\n          __derivedToStore.set(this, relatedStores);\n        }\n        relatedStores.add(dep);\n      }\n    }\n  }\n  unregisterFromGraph(deps = this.options.deps) {\n    for (const dep of deps) {\n      if (dep instanceof Derived) {\n        this.unregisterFromGraph(dep.options.deps);\n      } else if (dep instanceof Store) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(dep);\n        if (relatedLinkedDerivedVals) {\n          relatedLinkedDerivedVals.delete(this);\n        }\n        const relatedStores = __derivedToStore.get(this);\n        if (relatedStores) {\n          relatedStores.delete(dep);\n        }\n      }\n    }\n  }\n}\nexport {\n  Derived\n};\n//# sourceMappingURL=derived.js.map\n","import { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = (d) => d) {\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    shallow\n  );\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const v of objA) {\n      if (!objB.has(v)) return false;\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nexport {\n  shallow,\n  useStore\n};\n//# sourceMappingURL=index.js.map\n"],"names":["useSyncExternalStoreWithSelector"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}