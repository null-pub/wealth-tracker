var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{r as reactExports,a as React}from"./react-B1yKWjgZ.js";import{G as GroupCellRendererCtrl,_,M as ModuleRegistry,C as CssClassManager,A as AgPromise,H as HeaderRowType,a as HeaderRowContainerCtrl,b as GridHeaderCtrl,g as getRowContainerTypeForName,R as RowContainerCtrl,c as RowContainerName,d as GridBodyCtrl,T as TabGuardCtrl,e as GridCtrl,f as ComponentUtil,B as BaseComponentWrapper,V as VanillaFrameworkOverrides,P as PopupEditorWrapper,h as TabGuardClassNames,i as CtrlsService,j as ColumnApi,k as GridCoreCreator}from"./ag-grid-community-CB7j3cS8.js";import{R as ReactDOM,r as reactDomExports,a as renderToStaticMarkup}from"./react-dom-A_5VENys.js";var __defProp2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=__name((obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,"__defNormalProp"),__spreadValues=__name((a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},"__spreadValues"),__spreadProps=__name((a,b)=>__defProps(a,__getOwnPropDescs(b)),"__spreadProps"),CustomContext=reactExports.createContext({setMethods:()=>{}}),CustomWrapperComp=__name(params=>{const{initialProps,addUpdateCallback,CustomComponentClass,setMethods}=params,[props,setProps]=reactExports.useState(initialProps);return reactExports.useEffect(()=>{addUpdateCallback(newProps=>setProps(newProps))},[]),React.createElement(CustomContext.Provider,{value:{setMethods}},React.createElement(CustomComponentClass,__spreadValues({},props)))},"CustomWrapperComp"),customWrapperComp_default=reactExports.memo(CustomWrapperComp),counter=0;function generateNewKey(){return`agPortalKey_${++counter}`}__name(generateNewKey,"generateNewKey");var _a,ReactComponent=(_a=class{constructor(reactComponent,portalManager,componentType,suppressFallbackMethods){this.portal=null,this.oldPortal=null,this.reactComponent=reactComponent,this.portalManager=portalManager,this.componentType=componentType,this.suppressFallbackMethods=!!suppressFallbackMethods,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?AgPromise.resolve(!1):new AgPromise(resolve=>{this.resolveInstanceCreated=resolve})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(params){const componentWrappingElement=this.portalManager.getComponentWrappingElement(),eParentElement=document.createElement(componentWrappingElement||"div");return eParentElement.classList.add("ag-react-container"),params.reactContainer=eParentElement,eParentElement}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(_.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(_.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(className=>this.eParentElement.classList.add(className))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(Component3){return typeof Component3=="function"&&!(Component3.prototype&&Component3.prototype.isReactComponent)||typeof Component3=="object"&&Component3.$$typeof===this.getMemoType()}hasMethod(name){const frameworkComponentInstance=this.getFrameworkComponentInstance();return!!frameworkComponentInstance&&frameworkComponentInstance[name]!=null||this.fallbackMethodAvailable(name)}callMethod(name,args){const frameworkComponentInstance=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(name,args&&args[0]?args[0]:{});if(!frameworkComponentInstance){setTimeout(()=>this.callMethod(name,args));return}const method=frameworkComponentInstance[name];if(method)return method.apply(frameworkComponentInstance,args);if(this.fallbackMethodAvailable(name))return this.fallbackMethod(name,args&&args[0]?args[0]:{})}addMethod(name,callback){this[name]=callback}init(params){return this.eParentElement=this.createParentElement(params),this.params=params,this.createOrUpdatePortal(params),new AgPromise(resolve=>this.createReactComponent(resolve))}createOrUpdatePortal(params){this.isStatelessComponent()||(params.ref=element=>{var _a18;this.componentInstance=element,this.addParentContainerStyleAndClasses(),(_a18=this.resolveInstanceCreated)==null||_a18.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,__spreadProps(__spreadValues({},params),{key:this.key})),this.portal=reactDomExports.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(reactComponent,props){return reactExports.createElement(reactComponent,props)}createReactComponent(resolve){this.portalManager.mountReactPortal(this.portal,this,value=>{resolve(value)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(params){if(!this.componentType.cellRenderer)return!1;const originalConsoleError=console.error;try{return console.error=()=>{},renderToStaticMarkup(reactExports.createElement(this.reactComponent,params))===""}catch{}finally{console.error=originalConsoleError}return!1}refreshComponent(args){this.oldPortal=this.portal,this.createOrUpdatePortal(args),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(name,params){const method=this[`${name}Component`];if(!this.suppressFallbackMethods&&method)return method.bind(this)(params)}fallbackMethodAvailable(name){return this.suppressFallbackMethods?!1:!!this[`${name}Component`]}},__name(_a,"ReactComponent"),_a);function addOptionalMethods(optionalMethodNames,providedMethods,component){optionalMethodNames.forEach(methodName=>{const providedMethod=providedMethods[methodName];providedMethod&&(component[methodName]=providedMethod)})}__name(addOptionalMethods,"addOptionalMethods");var _a2,CustomComponentWrapper=(_a2=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new AgPromise(resolve=>{this.resolveUpdateCallback=resolve}),this.wrapperComponent=customWrapperComp_default}init(params){return this.sourceParams=params,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(reactComponent,props){return super.createElement(this.wrapperComponent,{initialProps:props,CustomComponentClass:reactComponent,setMethods:methods=>this.setMethods(methods),addUpdateCallback:callback=>{this.updateCallback=()=>(callback(this.getProps()),new AgPromise(resolve=>{setTimeout(()=>{resolve()})})),this.resolveUpdateCallback()}})}setMethods(methods){this.providedMethods=methods,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return __spreadProps(__spreadValues({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new AgPromise(resolve=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>resolve())}))}},__name(_a2,"CustomComponentWrapper"),_a2),_a3,DateComponentWrapper=(_a3=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=date=>this.updateDate(date)}getDate(){return this.date}setDate(date){this.date=date,this.refreshProps()}refresh(params){this.sourceParams=params,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(date){this.setDate(date),this.sourceParams.onDateChanged()}getProps(){const props=super.getProps();return props.date=this.date,props.onDateChange=this.onDateChange,delete props.onDateChanged,props}},__name(_a3,"DateComponentWrapper"),_a3),_a4,FilterComponentWrapper=(_a4=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(params){return this.providedMethods.doesFilterPass(params)}getModel(){return this.model}setModel(model){return this.model=model,this.refreshProps()}refresh(newParams){return this.sourceParams=newParams,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(model){this.setModel(model).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props.onUiChange=this.onUiChange,delete props.filterChangedCallback,delete props.filterModifiedCallback,delete props.valueGetter,props}},__name(_a4,"FilterComponentWrapper"),_a4);function updateFloatingFilterParent(params,model){params.parentFilterInstance(instance=>{(instance.setModel(model)||AgPromise.resolve()).then(()=>{params.filterParams.filterChangedCallback()})})}__name(updateFloatingFilterParent,"updateFloatingFilterParent");var _a5,FloatingFilterComponentProxy=(_a5=class{constructor(floatingFilterParams,refreshProps){this.floatingFilterParams=floatingFilterParams,this.refreshProps=refreshProps,this.model=null,this.onModelChange=model=>this.updateModel(model)}getProps(){return __spreadProps(__spreadValues({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(params){this.floatingFilterParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,model)}},__name(_a5,"FloatingFilterComponentProxy"),_a5),_a6,FloatingFilterComponentWrapper=(_a6=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model)}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(newParams){this.sourceParams=newParams,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,model)}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props}},__name(_a6,"FloatingFilterComponentWrapper"),_a6),_a7,LoadingOverlayComponentWrapper=(_a7=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},__name(_a7,"LoadingOverlayComponentWrapper"),_a7),_a8,MenuItemComponentWrapper=(_a8=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=active=>this.updateActive(active)}setActive(active){this.awaitSetActive(active)}setExpanded(expanded){this.expanded=expanded,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(active){return this.active=active,this.refreshProps()}updateActive(active){const result=this.awaitSetActive(active);active&&result.then(()=>this.sourceParams.onItemActivated())}getProps(){const props=super.getProps();return props.active=this.active,props.expanded=this.expanded,props.onActiveChange=this.onActiveChange,delete props.onItemActivated,props}},__name(_a8,"MenuItemComponentWrapper"),_a8),_a9,NoRowsOverlayComponentWrapper=(_a9=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},__name(_a9,"NoRowsOverlayComponentWrapper"),_a9),_a10,StatusPanelComponentWrapper=(_a10=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},__name(_a10,"StatusPanelComponentWrapper"),_a10),_a11,ToolPanelComponentWrapper=(_a11=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=state=>this.updateState(state)}refresh(params){return this.sourceParams=params,this.refreshProps(),!0}getState(){return this.state}updateState(state){this.state=state,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const props=super.getProps();return props.state=this.state,props.onStateChange=this.onStateChange,props}},__name(_a11,"ToolPanelComponentWrapper"),_a11),_a12,_PortalManager=(_a12=class{constructor(refresher,wrappingElement,maxComponentCreationTimeMs){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=wrappingElement||"div",this.refresher=refresher,this.maxComponentCreationTimeMs=maxComponentCreationTimeMs||_a12.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(portal){this.portals=this.portals.filter(curPortal=>curPortal!==portal),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(portal,reactComponent,resolve){this.portals=[...this.portals,portal],this.waitForInstance(reactComponent,resolve),this.batchUpdate()}updateReactPortal(oldPortal,newPortal){this.portals[this.portals.indexOf(oldPortal)]=newPortal,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(reactComponent,resolve,startTime=Date.now()){if(this.destroyed){resolve(null);return}if(reactComponent.rendered())resolve(reactComponent);else{if(Date.now()-startTime>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(reactComponent.isNullValue()){resolve(reactComponent);return}console.error(`AG Grid: React Component '${reactComponent.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(reactComponent,resolve,startTime)})}}},__name(_a12,"_PortalManager"),_a12);_PortalManager.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var PortalManager=_PortalManager,BeansContext=React.createContext({}),classesList=__name((...list)=>list.filter(s=>s!=null&&s!=="").join(" "),"classesList"),_a13,CssClasses=(_a13=class{constructor(...initialClasses){this.classesMap={},initialClasses.forEach(className=>{this.classesMap[className]=!0})}setClass(className,on){if(!!this.classesMap[className]==on)return this;const res=new _a13;return res.classesMap=__spreadValues({},this.classesMap),res.classesMap[className]=on,res}toString(){return Object.keys(this.classesMap).filter(key=>this.classesMap[key]).join(" ")}},__name(_a13,"_CssClasses"),_a13),isComponentStateless=__name(Component3=>{const hasSymbol=__name(()=>typeof Symbol=="function"&&Symbol.for,"hasSymbol"),getMemoType=__name(()=>hasSymbol()?Symbol.for("react.memo"):60115,"getMemoType");return typeof Component3=="function"&&!(Component3.prototype&&Component3.prototype.isReactComponent)||typeof Component3=="object"&&Component3.$$typeof===getMemoType()},"isComponentStateless"),createRootAndFlushSyncAvailable=ReactDOM.createRoot!=null&&ReactDOM.flushSync!=null,disableFlushSync=!1;function runWithoutFlushSync(func){return disableFlushSync||setTimeout(()=>disableFlushSync=!1,0),disableFlushSync=!0,func()}__name(runWithoutFlushSync,"runWithoutFlushSync");var agFlushSync=__name((useFlushSync,fn)=>{createRootAndFlushSyncAvailable&&useFlushSync&&!disableFlushSync?ReactDOM.flushSync(fn):fn()},"agFlushSync");function getNextValueIfDifferent(prev,next,maintainOrder){if(next==null||prev==null)return next;if(prev===next||next.length===0&&prev.length===0)return prev;if(maintainOrder||prev.length===0&&next.length>0||prev.length>0&&next.length===0)return next;const oldValues=[],newValues=[],prevMap=new Map,nextMap=new Map;for(let i=0;i<next.length;i++){const c=next[i];nextMap.set(c.getInstanceId(),c)}for(let i=0;i<prev.length;i++){const c=prev[i];prevMap.set(c.getInstanceId(),c),nextMap.has(c.getInstanceId())&&oldValues.push(c)}for(let i=0;i<next.length;i++){const c=next[i],instanceId=c.getInstanceId();prevMap.has(instanceId)||newValues.push(c)}return oldValues.length===prev.length&&newValues.length===0?prev:oldValues.length===0&&newValues.length===next.length?next:[...oldValues,...newValues]}__name(getNextValueIfDifferent,"getNextValueIfDifferent");var showJsComp=__name((compDetails,context,eParent,ref)=>{if(!compDetails||compDetails.componentFromFramework||context.isDestroyed())return;const promise=compDetails.newAgStackInstance();if(!promise)return;let comp,compGui,destroyed=!1;return promise.then(c=>{if(destroyed){context.destroyBean(c);return}comp=c,compGui=comp.getGui(),eParent.appendChild(compGui),setRef(ref,comp)}),()=>{destroyed=!0,comp&&(compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui),context.destroyBean(comp),ref&&setRef(ref,void 0))}},"showJsComp"),setRef=__name((ref,value)=>{if(ref)if(ref instanceof Function)ref(value);else{const refObj=ref;refObj.current=value}},"setRef"),createSyncJsComp=__name(compDetails=>{const promise=compDetails.newAgStackInstance();if(promise)return promise.resolveNow(null,x=>x)},"createSyncJsComp"),GroupCellRenderer=reactExports.forwardRef((props,ref)=>{var _a18;const context=reactExports.useContext(BeansContext).context,eGui=reactExports.useRef(null),eValueRef=reactExports.useRef(null),eCheckboxRef=reactExports.useRef(null),eExpandedRef=reactExports.useRef(null),eContractedRef=reactExports.useRef(null),ctrlRef=reactExports.useRef(),[innerCompDetails,setInnerCompDetails]=reactExports.useState(),[childCount,setChildCount]=reactExports.useState(),[value,setValue]=reactExports.useState(),[cssClasses,setCssClasses]=reactExports.useState(()=>new CssClasses),[expandedCssClasses,setExpandedCssClasses]=reactExports.useState(()=>new CssClasses("ag-hidden")),[contractedCssClasses,setContractedCssClasses]=reactExports.useState(()=>new CssClasses("ag-hidden")),[checkboxCssClasses,setCheckboxCssClasses]=reactExports.useState(()=>new CssClasses("ag-invisible"));reactExports.useImperativeHandle(ref,()=>({refresh(){return!1}})),reactExports.useLayoutEffect(()=>showJsComp(innerCompDetails,context,eValueRef.current),[innerCompDetails]);const setRef2=reactExports.useCallback(ref2=>{if(eGui.current=ref2,!eGui.current){context.destroyBean(ctrlRef.current),ctrlRef.current=null;return}const compProxy={setInnerRenderer:(details,valueToDisplay)=>{setInnerCompDetails(details),setValue(valueToDisplay)},setChildCount:count=>setChildCount(count),addOrRemoveCssClass:(name,on)=>setCssClasses(prev=>prev.setClass(name,on)),setContractedDisplayed:displayed=>setContractedCssClasses(prev=>prev.setClass("ag-hidden",!displayed)),setExpandedDisplayed:displayed=>setExpandedCssClasses(prev=>prev.setClass("ag-hidden",!displayed)),setCheckboxVisible:visible=>setCheckboxCssClasses(prev=>prev.setClass("ag-invisible",!visible))};ctrlRef.current=context.createBean(new GroupCellRendererCtrl),ctrlRef.current.init(compProxy,eGui.current,eCheckboxRef.current,eExpandedRef.current,eContractedRef.current,GroupCellRenderer,props)},[]),className=reactExports.useMemo(()=>`ag-cell-wrapper ${cssClasses.toString()}`,[cssClasses]),expandedClassName=reactExports.useMemo(()=>`ag-group-expanded ${expandedCssClasses.toString()}`,[expandedCssClasses]),contractedClassName=reactExports.useMemo(()=>`ag-group-contracted ${contractedCssClasses.toString()}`,[contractedCssClasses]),checkboxClassName=reactExports.useMemo(()=>`ag-group-checkbox ${checkboxCssClasses.toString()}`,[checkboxCssClasses]),useFwRenderer=innerCompDetails&&innerCompDetails.componentFromFramework,FwRenderer=useFwRenderer?innerCompDetails.componentClass:void 0,useValue=innerCompDetails==null&&value!=null,escapedValue=_.escapeString(value,!0);return React.createElement("span",__spreadValues({className,ref:setRef2},props.colDef?{}:{role:(_a18=ctrlRef.current)==null?void 0:_a18.getCellAriaRole()}),React.createElement("span",{className:expandedClassName,ref:eExpandedRef}),React.createElement("span",{className:contractedClassName,ref:eContractedRef}),React.createElement("span",{className:checkboxClassName,ref:eCheckboxRef}),React.createElement("span",{className:"ag-group-value",ref:eValueRef},useValue&&React.createElement(React.Fragment,null,escapedValue),useFwRenderer&&React.createElement(FwRenderer,__spreadValues({},innerCompDetails.params))),React.createElement("span",{className:"ag-group-child-count"},childCount))}),groupCellRenderer_default=GroupCellRenderer,HeaderCellComp=__name(props=>{const{ctrl}=props,isAlive=ctrl.isAlive(),{context}=reactExports.useContext(BeansContext),colId=isAlive?ctrl.getColId():void 0,[userCompDetails,setUserCompDetails]=reactExports.useState(),eGui=reactExports.useRef(null),eResize=reactExports.useRef(null),eHeaderCompWrapper=reactExports.useRef(null),userCompRef=reactExports.useRef();let cssClassManager=reactExports.useRef();isAlive&&!cssClassManager.current&&(cssClassManager.current=new CssClassManager(()=>eGui.current));const setRef2=reactExports.useCallback(e=>{var _a18;if(eGui.current=e,!eGui.current||!isAlive)return;const compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setAriaSort:sort=>{eGui.current&&(sort?_.setAriaSort(eGui.current,sort):_.removeAriaSort(eGui.current))},setUserCompDetails:compDetails=>setUserCompDetails(compDetails),getUserCompInstance:()=>userCompRef.current||void 0};ctrl.setComp(compProxy,eGui.current,eResize.current,eHeaderCompWrapper.current);const selectAllGui=ctrl.getSelectAllGui();(_a18=eResize.current)==null||_a18.insertAdjacentElement("afterend",selectAllGui)},[]);reactExports.useLayoutEffect(()=>showJsComp(userCompDetails,context,eHeaderCompWrapper.current,userCompRef),[userCompDetails]),reactExports.useEffect(()=>{ctrl.setDragSource(eGui.current)},[userCompDetails]);const userCompStateless=reactExports.useMemo(()=>!!((userCompDetails==null?void 0:userCompDetails.componentFromFramework)&&isComponentStateless(userCompDetails.componentClass)),[userCompDetails]),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return React.createElement("div",{ref:setRef2,className:"ag-header-cell","col-id":colId,role:"columnheader"},React.createElement("div",{ref:eResize,className:"ag-header-cell-resize",role:"presentation"}),React.createElement("div",{ref:eHeaderCompWrapper,className:"ag-header-cell-comp-wrapper",role:"presentation"},reactUserComp&&userCompStateless&&React.createElement(UserCompClass,__spreadValues({},userCompDetails.params)),reactUserComp&&!userCompStateless&&React.createElement(UserCompClass,__spreadProps(__spreadValues({},userCompDetails.params),{ref:userCompRef}))))},"HeaderCellComp"),headerCellComp_default=reactExports.memo(HeaderCellComp),HeaderGroupCellComp=__name(props=>{const{context}=reactExports.useContext(BeansContext),{ctrl}=props,[cssClasses,setCssClasses]=reactExports.useState(()=>new CssClasses),[cssResizableClasses,setResizableCssClasses]=reactExports.useState(()=>new CssClasses),[resizableAriaHidden,setResizableAriaHidden]=reactExports.useState("false"),[ariaExpanded,setAriaExpanded]=reactExports.useState(),[userCompDetails,setUserCompDetails]=reactExports.useState(),colId=reactExports.useMemo(()=>ctrl.getColId(),[]),eGui=reactExports.useRef(null),eResize=reactExports.useRef(null),userCompRef=reactExports.useRef(),setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!eGui.current)return;const compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},addOrRemoveCssClass:(name,on)=>setCssClasses(prev=>prev.setClass(name,on)),setUserCompDetails:compDetails=>setUserCompDetails(compDetails),setResizableDisplayed:displayed=>{setResizableCssClasses(prev=>prev.setClass("ag-hidden",!displayed)),setResizableAriaHidden(displayed?"false":"true")},setAriaExpanded:expanded=>setAriaExpanded(expanded),getUserCompInstance:()=>userCompRef.current||void 0};ctrl.setComp(compProxy,eGui.current,eResize.current)},[]);reactExports.useLayoutEffect(()=>showJsComp(userCompDetails,context,eGui.current),[userCompDetails]),reactExports.useEffect(()=>{eGui.current&&ctrl.setDragSource(eGui.current)},[userCompDetails]);const userCompStateless=reactExports.useMemo(()=>!!((userCompDetails==null?void 0:userCompDetails.componentFromFramework)&&isComponentStateless(userCompDetails.componentClass)),[userCompDetails]),className=reactExports.useMemo(()=>"ag-header-group-cell "+cssClasses.toString(),[cssClasses]),resizableClassName=reactExports.useMemo(()=>"ag-header-cell-resize "+cssResizableClasses.toString(),[cssResizableClasses]),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return React.createElement("div",{ref:setRef2,className,"col-id":colId,role:"columnheader","aria-expanded":ariaExpanded},reactUserComp&&userCompStateless&&React.createElement(UserCompClass,__spreadValues({},userCompDetails.params)),reactUserComp&&!userCompStateless&&React.createElement(UserCompClass,__spreadProps(__spreadValues({},userCompDetails.params),{ref:userCompRef})),React.createElement("div",{ref:eResize,"aria-hidden":resizableAriaHidden,className:resizableClassName}))},"HeaderGroupCellComp"),headerGroupCellComp_default=reactExports.memo(HeaderGroupCellComp);function warnReactiveCustomComponents(){_.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}__name(warnReactiveCustomComponents,"warnReactiveCustomComponents");var HeaderFilterCellComp=__name(props=>{const{context,gridOptionsService}=reactExports.useContext(BeansContext),[cssClasses,setCssClasses]=reactExports.useState(()=>new CssClasses("ag-header-cell","ag-floating-filter")),[cssBodyClasses,setBodyCssClasses]=reactExports.useState(()=>new CssClasses),[cssButtonWrapperClasses,setButtonWrapperCssClasses]=reactExports.useState(()=>new CssClasses("ag-floating-filter-button","ag-hidden")),[buttonWrapperAriaHidden,setButtonWrapperAriaHidden]=reactExports.useState("false"),[userCompDetails,setUserCompDetails]=reactExports.useState(),[renderKey,setRenderKey]=reactExports.useState(1),eGui=reactExports.useRef(null),eFloatingFilterBody=reactExports.useRef(null),eButtonWrapper=reactExports.useRef(null),eButtonShowMainFilter=reactExports.useRef(null),userCompResolve=reactExports.useRef(),userCompPromise=reactExports.useRef(),userCompRef=__name(value=>{value!=null&&userCompResolve.current&&userCompResolve.current(value)},"userCompRef"),{ctrl}=props,setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!eGui.current)return;userCompPromise.current=new AgPromise(resolve=>{userCompResolve.current=resolve});const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses(prev=>prev.setClass(name,on)),addOrRemoveBodyCssClass:(name,on)=>setBodyCssClasses(prev=>prev.setClass(name,on)),setButtonWrapperDisplayed:displayed=>{setButtonWrapperCssClasses(prev=>prev.setClass("ag-hidden",!displayed)),setButtonWrapperAriaHidden(displayed?"false":"true")},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},setCompDetails:compDetails=>setUserCompDetails(compDetails),getFloatingFilterComp:()=>userCompPromise.current?userCompPromise.current:null,setMenuIcon:eIcon=>{var _a18;return(_a18=eButtonShowMainFilter.current)==null?void 0:_a18.appendChild(eIcon)}};ctrl.setComp(compProxy,eGui.current,eButtonShowMainFilter.current,eFloatingFilterBody.current)},[]);reactExports.useLayoutEffect(()=>showJsComp(userCompDetails,context,eFloatingFilterBody.current,userCompRef),[userCompDetails]);const className=reactExports.useMemo(()=>cssClasses.toString(),[cssClasses]),bodyClassName=reactExports.useMemo(()=>cssBodyClasses.toString(),[cssBodyClasses]),buttonWrapperClassName=reactExports.useMemo(()=>cssButtonWrapperClasses.toString(),[cssButtonWrapperClasses]),userCompStateless=reactExports.useMemo(()=>!!(userCompDetails&&userCompDetails.componentFromFramework&&isComponentStateless(userCompDetails.componentClass)),[userCompDetails]),reactiveCustomComponents=reactExports.useMemo(()=>gridOptionsService.get("reactiveCustomComponents"),[]),floatingFilterCompProxy=reactExports.useMemo(()=>{if(userCompDetails)if(reactiveCustomComponents){const compProxy=new FloatingFilterComponentProxy(userCompDetails.params,()=>setRenderKey(prev=>prev+1));return userCompRef(compProxy),compProxy}else userCompDetails.componentFromFramework&&warnReactiveCustomComponents()},[userCompDetails]),floatingFilterProps=floatingFilterCompProxy==null?void 0:floatingFilterCompProxy.getProps(),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return React.createElement("div",{ref:setRef2,className,role:"gridcell"},React.createElement("div",{ref:eFloatingFilterBody,className:bodyClassName,role:"presentation"},reactUserComp&&!reactiveCustomComponents&&React.createElement(UserCompClass,__spreadProps(__spreadValues({},userCompDetails.params),{ref:userCompStateless?()=>{}:userCompRef})),reactUserComp&&reactiveCustomComponents&&React.createElement(CustomContext.Provider,{value:{setMethods:methods=>floatingFilterCompProxy.setMethods(methods)}},React.createElement(UserCompClass,__spreadValues({},floatingFilterProps)))),React.createElement("div",{ref:eButtonWrapper,"aria-hidden":buttonWrapperAriaHidden,className:buttonWrapperClassName,role:"presentation"},React.createElement("button",{ref:eButtonShowMainFilter,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},"HeaderFilterCellComp"),headerFilterCellComp_default=reactExports.memo(HeaderFilterCellComp),HeaderRowComp=__name(props=>{const{ctrl}=props,{topOffset,rowHeight}=reactExports.useMemo(()=>ctrl.getTopAndHeight(),[]),ariaRowIndex=ctrl.getAriaRowIndex(),className=ctrl.getHeaderRowClass(),[height,setHeight]=reactExports.useState(()=>rowHeight+"px"),[top,setTop]=reactExports.useState(()=>topOffset+"px"),[cellCtrls,setCellCtrls]=reactExports.useState(()=>ctrl.getHeaderCtrls()),eGui=reactExports.useRef(null),setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!e)return;const compProxy={setHeight:height2=>setHeight(height2),setTop:top2=>setTop(top2),setHeaderCtrls:(ctrls,forceOrder,afterScroll)=>{agFlushSync(afterScroll,()=>{setCellCtrls(prev=>getNextValueIfDifferent(prev,ctrls,forceOrder))})},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)}};ctrl.setComp(compProxy,!1)},[]),style=reactExports.useMemo(()=>({height,top}),[height,top]),createCellJsx=reactExports.useCallback(cellCtrl=>{switch(ctrl.getType()){case HeaderRowType.COLUMN_GROUP:return React.createElement(headerGroupCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()});case HeaderRowType.FLOATING_FILTER:return React.createElement(headerFilterCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()});default:return React.createElement(headerCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()})}},[]);return React.createElement("div",{ref:setRef2,className,role:"row",style,"aria-rowindex":ariaRowIndex},cellCtrls.map(createCellJsx))},"HeaderRowComp"),headerRowComp_default=reactExports.memo(HeaderRowComp),HeaderRowContainerComp=__name(props=>{const[displayed,setDisplayed]=reactExports.useState(!0),[headerRowCtrls,setHeaderRowCtrls]=reactExports.useState([]),{context}=reactExports.useContext(BeansContext),eGui=reactExports.useRef(null),eCenterContainer=reactExports.useRef(null),headerRowCtrlRef=reactExports.useRef(null),pinnedLeft=props.pinned==="left",pinnedRight=props.pinned==="right",centre=!pinnedLeft&&!pinnedRight,setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!eGui.current){context.destroyBean(headerRowCtrlRef.current),headerRowCtrlRef.current=null;return}const compProxy={setDisplayed,setCtrls:ctrls=>setHeaderRowCtrls(ctrls),setCenterWidth:width=>{eCenterContainer.current&&(eCenterContainer.current.style.width=width)},setViewportScrollLeft:left=>{eGui.current&&(eGui.current.scrollLeft=left)},setPinnedContainerWidth:width=>{eGui.current&&(eGui.current.style.width=width,eGui.current.style.minWidth=width,eGui.current.style.maxWidth=width)}};headerRowCtrlRef.current=context.createBean(new HeaderRowContainerCtrl(props.pinned)),headerRowCtrlRef.current.setComp(compProxy,eGui.current)},[]),className=displayed?"":"ag-hidden",insertRowsJsx=__name(()=>headerRowCtrls.map(ctrl=>React.createElement(headerRowComp_default,{ctrl,key:ctrl.getInstanceId()})),"insertRowsJsx");return React.createElement(React.Fragment,null,pinnedLeft&&React.createElement("div",{ref:setRef2,className:"ag-pinned-left-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()),pinnedRight&&React.createElement("div",{ref:setRef2,className:"ag-pinned-right-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()),centre&&React.createElement("div",{ref:setRef2,className:"ag-header-viewport "+className,role:"presentation"},React.createElement("div",{ref:eCenterContainer,className:"ag-header-container",role:"rowgroup"},insertRowsJsx())))},"HeaderRowContainerComp"),headerRowContainerComp_default=reactExports.memo(HeaderRowContainerComp),GridHeaderComp=__name(()=>{const[cssClasses,setCssClasses]=reactExports.useState(()=>new CssClasses),[height,setHeight]=reactExports.useState(),{context}=reactExports.useContext(BeansContext),eGui=reactExports.useRef(null),gridCtrlRef=reactExports.useRef(null),setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!e){context.destroyBean(gridCtrlRef.current),gridCtrlRef.current=null;return}const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses(prev=>prev.setClass(name,on)),setHeightAndMinHeight:height2=>setHeight(height2)};gridCtrlRef.current=context.createBean(new GridHeaderCtrl),gridCtrlRef.current.setComp(compProxy,eGui.current,eGui.current)},[]),className=reactExports.useMemo(()=>"ag-header "+cssClasses.toString(),[cssClasses]),style=reactExports.useMemo(()=>({height,minHeight:height}),[height]);return React.createElement("div",{ref:setRef2,className,style,role:"presentation"},React.createElement(headerRowContainerComp_default,{pinned:"left"}),React.createElement(headerRowContainerComp_default,{pinned:null}),React.createElement(headerRowContainerComp_default,{pinned:"right"}))},"GridHeaderComp"),gridHeaderComp_default=reactExports.memo(GridHeaderComp),useReactCommentEffect=__name((comment,eForCommentRef)=>{reactExports.useEffect(()=>{const eForComment=eForCommentRef.current;if(eForComment){const eParent=eForComment.parentElement;if(eParent){const eComment=document.createComment(comment);return eParent.insertBefore(eComment,eForComment),()=>{eParent.removeChild(eComment)}}}},[comment])},"useReactCommentEffect"),reactComment_default=useReactCommentEffect,useEffectOnce=__name(effect=>{const effectFn=reactExports.useRef(effect),destroyFn=reactExports.useRef(),effectCalled=reactExports.useRef(!1),rendered=reactExports.useRef(!1),[,setVal]=reactExports.useState(0);effectCalled.current&&(rendered.current=!0),reactExports.useEffect(()=>(effectCalled.current||(destroyFn.current=effectFn.current(),effectCalled.current=!0),setVal(val=>val+1),()=>{rendered.current&&destroyFn.current&&destroyFn.current()}),[])},"useEffectOnce"),PopupEditorComp=__name(props=>{const[popupEditorWrapper,setPopupEditorWrapper]=reactExports.useState(),{context,popupService,localeService,gridOptionsService}=reactExports.useContext(BeansContext);return useEffectOnce(()=>{const{editDetails,cellCtrl,eParentCell}=props,{compDetails}=editDetails,useModelPopup=gridOptionsService.get("stopEditingWhenCellsLoseFocus"),wrapper=context.createBean(new PopupEditorWrapper(compDetails.params)),ePopupGui=wrapper.getGui();if(props.jsChildComp){const eChildGui=props.jsChildComp.getGui();eChildGui&&ePopupGui.appendChild(eChildGui)}const positionParams={column:cellCtrl.getColumn(),rowNode:cellCtrl.getRowNode(),type:"popupCellEditor",eventSource:eParentCell,ePopup:ePopupGui,position:editDetails.popupPosition,keepWithinBounds:!0},positionCallback=popupService.positionPopupByComponent.bind(popupService,positionParams),translate=localeService.getLocaleTextFunc(),addPopupRes=popupService.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:()=>{cellCtrl.onPopupEditorClosed()},anchorToElement:eParentCell,positionCallback,ariaLabel:translate("ariaLabelCellEditor","Cell Editor")}),hideEditorPopup=addPopupRes?addPopupRes.hideFunc:void 0;return setPopupEditorWrapper(wrapper),props.jsChildComp&&props.jsChildComp.afterGuiAttached&&props.jsChildComp.afterGuiAttached(),()=>{hideEditorPopup!=null&&hideEditorPopup(),context.destroyBean(wrapper)}}),React.createElement(React.Fragment,null,popupEditorWrapper&&props.wrappedContent&&reactDomExports.createPortal(props.wrappedContent,popupEditorWrapper.getGui()))},"PopupEditorComp"),popupEditorComp_default=reactExports.memo(PopupEditorComp),useJsCellRenderer=__name((showDetails,showTools,eCellValue,cellValueVersion,jsCellRendererRef,eGui)=>{const{context}=reactExports.useContext(BeansContext),destroyCellRenderer=reactExports.useCallback(()=>{const comp=jsCellRendererRef.current;if(!comp)return;const compGui=comp.getGui();compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui),context.destroyBean(comp),jsCellRendererRef.current=void 0},[]);reactExports.useEffect(()=>{const showValue=showDetails!=null,jsCompDetails=showDetails&&showDetails.compDetails&&!showDetails.compDetails.componentFromFramework,waitingForToolsSetup=showTools&&eCellValue==null;if(!(showValue&&jsCompDetails&&!waitingForToolsSetup)){destroyCellRenderer();return}const compDetails=showDetails.compDetails;if(jsCellRendererRef.current){const comp2=jsCellRendererRef.current,refreshResult=comp2.refresh!=null&&showDetails.force==!1?comp2.refresh(compDetails.params):!1;if(refreshResult===!0||refreshResult===void 0)return;destroyCellRenderer()}const promise=compDetails.newAgStackInstance();if(!promise)return;const comp=promise.resolveNow(null,x=>x);if(!comp)return;const compGui=comp.getGui();if(!compGui)return;(showTools?eCellValue:eGui.current).appendChild(compGui),jsCellRendererRef.current=comp},[showDetails,showTools,cellValueVersion]),reactExports.useEffect(()=>destroyCellRenderer,[])},"useJsCellRenderer"),showJsRenderer_default=useJsCellRenderer,_a14,CellEditorComponentProxy=(_a14=class{constructor(cellEditorParams,refreshProps){this.cellEditorParams=cellEditorParams,this.refreshProps=refreshProps,this.instanceCreated=new AgPromise(resolve=>{this.resolveInstanceCreated=resolve}),this.onValueChange=value=>this.updateValue(value),this.value=cellEditorParams.value}getProps(){return __spreadProps(__spreadValues({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(params){this.cellEditorParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(componentInstance){var _a18;this.componentInstance=componentInstance,(_a18=this.resolveInstanceCreated)==null||_a18.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(value){this.value=value,this.refreshProps()}},__name(_a14,"CellEditorComponentProxy"),_a14),checkCellEditorDeprecations=__name((popup,cellEditor,cellCtrl)=>{const col=cellCtrl.getColumn();if(!popup&&cellEditor.isPopup&&cellEditor.isPopup()){const msg=`AG Grid: Found an issue in column ${col.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;_.doOnce(()=>console.warn(msg),"jsEditorComp-isPopup-"+cellCtrl.getColumn().getColId())}if(popup&&cellEditor.getPopupPosition&&cellEditor.getPopupPosition()!=null){const msg=`AG Grid: Found an issue in column ${col.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;_.doOnce(()=>console.warn(msg),"jsEditorComp-getPopupPosition-"+cellCtrl.getColumn().getColId())}},"checkCellEditorDeprecations"),jsxEditorProxy=__name((editDetails,CellEditorClass,setRef2)=>{const{compProxy}=editDetails;setRef2(compProxy);const props=compProxy.getProps(),isStateless=isComponentStateless(CellEditorClass);return React.createElement(CustomContext.Provider,{value:{setMethods:methods=>compProxy.setMethods(methods)}},isStateless&&React.createElement(CellEditorClass,__spreadValues({},props)),!isStateless&&React.createElement(CellEditorClass,__spreadProps(__spreadValues({},props),{ref:ref=>compProxy.setRef(ref)})))},"jsxEditorProxy"),jsxEditor=__name((editDetails,CellEditorClass,setRef2)=>{const newFormat=editDetails.compProxy;return React.createElement(React.Fragment,null,!newFormat&&React.createElement(CellEditorClass,__spreadProps(__spreadValues({},editDetails.compDetails.params),{ref:setRef2})),newFormat&&jsxEditorProxy(editDetails,CellEditorClass,setRef2))},"jsxEditor"),jsxEditValue=__name((editDetails,setInlineCellEditorRef,setPopupCellEditorRef,eGui,cellCtrl,jsEditorComp)=>{const compDetails=editDetails.compDetails,CellEditorClass=compDetails.componentClass,reactInlineEditor=compDetails.componentFromFramework&&!editDetails.popup,reactPopupEditor=compDetails.componentFromFramework&&editDetails.popup,jsPopupEditor=!compDetails.componentFromFramework&&editDetails.popup;return React.createElement(React.Fragment,null,reactInlineEditor&&jsxEditor(editDetails,CellEditorClass,setInlineCellEditorRef),reactPopupEditor&&React.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,wrappedContent:jsxEditor(editDetails,CellEditorClass,setPopupCellEditorRef)}),jsPopupEditor&&jsEditorComp&&React.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,jsChildComp:jsEditorComp}))},"jsxEditValue"),jsxShowValue=__name((showDetails,key,parentId,cellRendererRef,showCellWrapper,reactCellRendererStateless,setECellValue)=>{const{compDetails,value}=showDetails,noCellRenderer=!compDetails,reactCellRenderer=compDetails&&compDetails.componentFromFramework,CellRendererClass=compDetails&&compDetails.componentClass,valueForNoCellRenderer=value!=null&&value.toString?value.toString():value,bodyJsxFunc=__name(()=>React.createElement(React.Fragment,null,noCellRenderer&&React.createElement(React.Fragment,null,valueForNoCellRenderer),reactCellRenderer&&!reactCellRendererStateless&&React.createElement(CellRendererClass,__spreadProps(__spreadValues({},compDetails.params),{key,ref:cellRendererRef})),reactCellRenderer&&reactCellRendererStateless&&React.createElement(CellRendererClass,__spreadProps(__spreadValues({},compDetails.params),{key}))),"bodyJsxFunc");return React.createElement(React.Fragment,null,showCellWrapper?React.createElement("span",{role:"presentation",id:`cell-${parentId}`,className:"ag-cell-value",ref:setECellValue},bodyJsxFunc()):bodyJsxFunc())},"jsxShowValue"),CellComp=__name(props=>{const{context}=reactExports.useContext(BeansContext),{cellCtrl,printLayout,editingRow}=props,tabIndex=cellCtrl.getTabIndex(),colId=cellCtrl.getColumnIdSanitised(),cellInstanceId=cellCtrl.getInstanceId(),[renderDetails,setRenderDetails]=reactExports.useState(()=>cellCtrl.isCellRenderer()?void 0:{compDetails:void 0,value:cellCtrl.getValueToDisplay(),force:!1}),[editDetails,setEditDetails]=reactExports.useState(),[renderKey,setRenderKey]=reactExports.useState(1),[userStyles,setUserStyles]=reactExports.useState(),[includeSelection,setIncludeSelection]=reactExports.useState(!1),[includeRowDrag,setIncludeRowDrag]=reactExports.useState(!1),[includeDndSource,setIncludeDndSource]=reactExports.useState(!1),[jsEditorComp,setJsEditorComp]=reactExports.useState(),forceWrapper=reactExports.useMemo(()=>cellCtrl.isForceWrapper(),[cellCtrl]),cellAriaRole=reactExports.useMemo(()=>cellCtrl.getCellAriaRole(),[cellCtrl]),eGui=reactExports.useRef(null),cellRendererRef=reactExports.useRef(null),jsCellRendererRef=reactExports.useRef(),cellEditorRef=reactExports.useRef(),eCellWrapper=reactExports.useRef(),cellWrapperDestroyFuncs=reactExports.useRef([]),eCellValue=reactExports.useRef(),[cellValueVersion,setCellValueVersion]=reactExports.useState(0),setCellValueRef=reactExports.useCallback(ref=>{eCellValue.current=ref,setCellValueVersion(v=>v+1)},[]),showTools=renderDetails!=null&&(includeSelection||includeDndSource||includeRowDrag),showCellWrapper=forceWrapper||showTools,setCellEditorRef=reactExports.useCallback((popup,cellEditor)=>{cellEditorRef.current=cellEditor,cellEditor&&(checkCellEditorDeprecations(popup,cellEditor,cellCtrl),cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart()&&setTimeout(()=>{cellCtrl.stopEditing(!0),cellCtrl.focusCell(!0)}))},[cellCtrl]),setPopupCellEditorRef=reactExports.useCallback(cellRenderer=>setCellEditorRef(!0,cellRenderer),[setCellEditorRef]),setInlineCellEditorRef=reactExports.useCallback(cellRenderer=>setCellEditorRef(!1,cellRenderer),[setCellEditorRef]);let cssClassManager=reactExports.useRef();cssClassManager.current||(cssClassManager.current=new CssClassManager(()=>eGui.current)),showJsRenderer_default(renderDetails,showCellWrapper,eCellValue.current,cellValueVersion,jsCellRendererRef,eGui);const lastRenderDetails=reactExports.useRef();reactExports.useLayoutEffect(()=>{const oldDetails=lastRenderDetails.current,newDetails=renderDetails;if(lastRenderDetails.current=renderDetails,oldDetails==null||oldDetails.compDetails==null||newDetails==null||newDetails.compDetails==null)return;const oldCompDetails=oldDetails.compDetails,newCompDetails=newDetails.compDetails;if(oldCompDetails.componentClass!=newCompDetails.componentClass||cellRendererRef.current==null||cellRendererRef.current.refresh==null)return;cellRendererRef.current.refresh(newCompDetails.params)!=!0&&setRenderKey(prev=>prev+1)},[renderDetails]),reactExports.useLayoutEffect(()=>{if(!(editDetails&&!editDetails.compDetails.componentFromFramework))return;const compDetails=editDetails.compDetails,isPopup=editDetails.popup===!0,cellEditor=createSyncJsComp(compDetails);if(!cellEditor)return;const compGui=cellEditor.getGui();if(setCellEditorRef(isPopup,cellEditor),!isPopup){const parentEl=(forceWrapper?eCellWrapper:eGui).current;parentEl==null||parentEl.appendChild(compGui),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()}return setJsEditorComp(cellEditor),()=>{context.destroyBean(cellEditor),setCellEditorRef(isPopup,void 0),setJsEditorComp(void 0),compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui)}},[editDetails]);const setCellWrapperRef=reactExports.useCallback(ref=>{if(eCellWrapper.current=ref,!eCellWrapper.current){cellWrapperDestroyFuncs.current.forEach(f=>f()),cellWrapperDestroyFuncs.current=[];return}const addComp=__name(comp=>{var _a18;if(comp){const eGui2=comp.getGui();(_a18=eCellWrapper.current)==null||_a18.insertAdjacentElement("afterbegin",eGui2),cellWrapperDestroyFuncs.current.push(()=>{context.destroyBean(comp),_.removeFromParent(eGui2)})}return comp},"addComp");if(includeSelection){const checkboxSelectionComp=cellCtrl.createSelectionCheckbox();addComp(checkboxSelectionComp)}includeDndSource&&addComp(cellCtrl.createDndSource()),includeRowDrag&&addComp(cellCtrl.createRowDragComp())},[cellCtrl,context,includeDndSource,includeRowDrag,includeSelection]),setRef2=reactExports.useCallback(ref=>{if(eGui.current=ref,!eGui.current||!cellCtrl)return;const compProxy={addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setUserStyles:styles=>setUserStyles(styles),getFocusableElement:()=>eGui.current,setIncludeSelection:include=>setIncludeSelection(include),setIncludeRowDrag:include=>setIncludeRowDrag(include),setIncludeDndSource:include=>setIncludeDndSource(include),getCellEditor:()=>cellEditorRef.current||null,getCellRenderer:()=>cellRendererRef.current?cellRendererRef.current:jsCellRendererRef.current,getParentOfValue:()=>eCellValue.current?eCellValue.current:eCellWrapper.current?eCellWrapper.current:eGui.current,setRenderDetails:(compDetails,value,force)=>{setRenderDetails(prev=>(prev==null?void 0:prev.compDetails)!==compDetails||(prev==null?void 0:prev.value)!==value||(prev==null?void 0:prev.force)!==force?{value,compDetails,force}:prev)},setEditDetails:(compDetails,popup,popupPosition,reactiveCustomComponents)=>{if(compDetails){let compProxy2;reactiveCustomComponents?compProxy2=new CellEditorComponentProxy(compDetails.params,()=>setRenderKey(prev=>prev+1)):compDetails.componentFromFramework&&warnReactiveCustomComponents(),setEditDetails({compDetails,popup,popupPosition,compProxy:compProxy2}),popup||setRenderDetails(void 0)}else setEditDetails(editDetails2=>{editDetails2!=null&&editDetails2.compProxy&&(cellEditorRef.current=void 0)})}},cellWrapperOrUndefined=eCellWrapper.current||void 0;cellCtrl.setComp(compProxy,eGui.current,cellWrapperOrUndefined,printLayout,editingRow)},[]),reactCellRendererStateless=reactExports.useMemo(()=>!!(renderDetails&&renderDetails.compDetails&&renderDetails.compDetails.componentFromFramework&&isComponentStateless(renderDetails.compDetails.componentClass)),[renderDetails]);reactExports.useLayoutEffect(()=>{var _a18;eGui.current&&(cssClassManager.current.addOrRemoveCssClass("ag-cell-value",!showCellWrapper),cssClassManager.current.addOrRemoveCssClass("ag-cell-inline-editing",!!editDetails&&!editDetails.popup),cssClassManager.current.addOrRemoveCssClass("ag-cell-popup-editing",!!editDetails&&!!editDetails.popup),cssClassManager.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!editDetails||!!editDetails.popup),(_a18=cellCtrl.getRowCtrl())==null||_a18.setInlineEditingCss(!!editDetails),cellCtrl.shouldRestoreFocus()&&!cellCtrl.isEditing()&&eGui.current.focus({preventScroll:!0}))});const showContents=__name(()=>React.createElement(React.Fragment,null,renderDetails!=null&&jsxShowValue(renderDetails,renderKey,cellInstanceId,cellRendererRef,showCellWrapper,reactCellRendererStateless,setCellValueRef),editDetails!=null&&jsxEditValue(editDetails,setInlineCellEditorRef,setPopupCellEditorRef,eGui.current,cellCtrl,jsEditorComp)),"showContents");return React.createElement("div",{ref:setRef2,style:userStyles,tabIndex,role:cellAriaRole,"col-id":colId},showCellWrapper?React.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:setCellWrapperRef},showContents()):showContents())},"CellComp"),cellComp_default=reactExports.memo(CellComp),RowComp=__name(params=>{const{context,gridOptionsService}=reactExports.useContext(BeansContext),{rowCtrl,containerType}=params,tabIndex=rowCtrl.getTabIndex(),domOrderRef=reactExports.useRef(rowCtrl.getDomOrder()),isFullWidth=rowCtrl.isFullWidth(),isDisplayed=rowCtrl.getRowNode().displayed,[rowIndex,setRowIndex]=reactExports.useState(()=>isDisplayed?rowCtrl.getRowIndex():null),[rowId,setRowId]=reactExports.useState(()=>rowCtrl.getRowId()),[rowBusinessKey,setRowBusinessKey]=reactExports.useState(()=>rowCtrl.getBusinessKey()),[userStyles,setUserStyles]=reactExports.useState(()=>rowCtrl.getRowStyles()),[cellCtrls,setCellCtrls]=reactExports.useState(()=>null),[fullWidthCompDetails,setFullWidthCompDetails]=reactExports.useState(),[top,setTop]=reactExports.useState(()=>isDisplayed?rowCtrl.getInitialRowTop(containerType):void 0),[transform,setTransform]=reactExports.useState(()=>isDisplayed?rowCtrl.getInitialTransform(containerType):void 0),eGui=reactExports.useRef(null),fullWidthCompRef=reactExports.useRef(),autoHeightSetup=reactExports.useRef(!1),[autoHeightSetupAttempt,setAutoHeightSetupAttempt]=reactExports.useState(0);reactExports.useEffect(()=>{var _a18;if(autoHeightSetup.current||!fullWidthCompDetails||autoHeightSetupAttempt>10)return;const eChild=(_a18=eGui.current)==null?void 0:_a18.firstChild;eChild?(rowCtrl.setupDetailRowAutoHeight(eChild),autoHeightSetup.current=!0):setAutoHeightSetupAttempt(prev=>prev+1)},[fullWidthCompDetails,autoHeightSetupAttempt]);let cssClassManager=reactExports.useRef();cssClassManager.current||(cssClassManager.current=new CssClassManager(()=>eGui.current));const setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!eGui.current){rowCtrl.unsetComp(containerType);return}if(!rowCtrl.isAlive())return;const compProxy={setTop,setTransform,addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setDomOrder:domOrder=>domOrderRef.current=domOrder,setRowIndex,setRowId,setRowBusinessKey,setUserStyles,setCellCtrls:(next,useFlushSync)=>{agFlushSync(useFlushSync,()=>{setCellCtrls(prev=>getNextValueIfDifferent(prev,next,domOrderRef.current))})},showFullWidth:compDetails=>setFullWidthCompDetails(compDetails),getFullWidthCellRenderer:()=>fullWidthCompRef.current,refreshFullWidth:getUpdatedParams=>canRefreshFullWidthRef.current?(setFullWidthCompDetails(prevFullWidthCompDetails=>__spreadProps(__spreadValues({},prevFullWidthCompDetails),{params:getUpdatedParams()})),!0):!fullWidthCompRef.current||!fullWidthCompRef.current.refresh?!1:fullWidthCompRef.current.refresh(getUpdatedParams())};rowCtrl.setComp(compProxy,eGui.current,containerType)},[]);reactExports.useLayoutEffect(()=>showJsComp(fullWidthCompDetails,context,eGui.current,fullWidthCompRef),[fullWidthCompDetails]);const rowStyles=reactExports.useMemo(()=>{const res={top,transform};return Object.assign(res,userStyles),res},[top,transform,userStyles]),showFullWidthFramework=isFullWidth&&fullWidthCompDetails&&fullWidthCompDetails.componentFromFramework,showCells=!isFullWidth&&cellCtrls!=null,reactFullWidthCellRendererStateless=reactExports.useMemo(()=>!!((fullWidthCompDetails==null?void 0:fullWidthCompDetails.componentFromFramework)&&isComponentStateless(fullWidthCompDetails.componentClass)),[fullWidthCompDetails]),canRefreshFullWidthRef=reactExports.useRef(!1);reactExports.useEffect(()=>{canRefreshFullWidthRef.current=reactFullWidthCellRendererStateless&&!!fullWidthCompDetails&&!!gridOptionsService.get("reactiveCustomComponents")},[reactFullWidthCellRendererStateless,fullWidthCompDetails]);const showCellsJsx=__name(()=>cellCtrls==null?void 0:cellCtrls.map(cellCtrl=>React.createElement(cellComp_default,{cellCtrl,editingRow:rowCtrl.isEditing(),printLayout:rowCtrl.isPrintLayout(),key:cellCtrl.getInstanceId()})),"showCellsJsx"),showFullWidthFrameworkJsx=__name(()=>{const FullWidthComp=fullWidthCompDetails.componentClass;return React.createElement(React.Fragment,null,reactFullWidthCellRendererStateless&&React.createElement(FullWidthComp,__spreadValues({},fullWidthCompDetails.params)),!reactFullWidthCellRendererStateless&&React.createElement(FullWidthComp,__spreadProps(__spreadValues({},fullWidthCompDetails.params),{ref:fullWidthCompRef})))},"showFullWidthFrameworkJsx");return React.createElement("div",{ref:setRef2,role:"row",style:rowStyles,"row-index":rowIndex,"row-id":rowId,"row-business-key":rowBusinessKey,tabIndex},showCells&&showCellsJsx(),showFullWidthFramework&&showFullWidthFrameworkJsx())},"RowComp"),rowComp_default=reactExports.memo(RowComp),RowContainerComp=__name(params=>{const{context}=reactExports.useContext(BeansContext),{name}=params,containerType=reactExports.useMemo(()=>getRowContainerTypeForName(name),[name]),eViewport=reactExports.useRef(null),eContainer=reactExports.useRef(null),rowCtrlsRef=reactExports.useRef([]),[rowCtrlsOrdered,setRowCtrlsOrdered]=reactExports.useState(()=>[]),domOrderRef=reactExports.useRef(!1),rowContainerCtrlRef=reactExports.useRef(),cssClasses=reactExports.useMemo(()=>RowContainerCtrl.getRowContainerCssClasses(name),[name]),viewportClasses=reactExports.useMemo(()=>classesList(cssClasses.viewport),[cssClasses]),containerClasses=reactExports.useMemo(()=>classesList(cssClasses.container),[cssClasses]),centerTemplate=name===RowContainerName.CENTER||name===RowContainerName.TOP_CENTER||name===RowContainerName.BOTTOM_CENTER||name===RowContainerName.STICKY_TOP_CENTER,topLevelRef=centerTemplate?eViewport:eContainer;reactComment_default(" AG Row Container "+name+" ",topLevelRef);const areElementsReady=reactExports.useCallback(()=>centerTemplate?eViewport.current!=null&&eContainer.current!=null:eContainer.current!=null,[]),areElementsRemoved=reactExports.useCallback(()=>centerTemplate?eViewport.current==null&&eContainer.current==null:eContainer.current==null,[]),setRef2=reactExports.useCallback(()=>{if(areElementsRemoved()&&(context.destroyBean(rowContainerCtrlRef.current),rowContainerCtrlRef.current=null),areElementsReady()){const updateRowCtrlsOrdered=__name(useFlushSync=>{agFlushSync(useFlushSync,()=>{setRowCtrlsOrdered(prev=>getNextValueIfDifferent(prev,rowCtrlsRef.current,domOrderRef.current))})},"updateRowCtrlsOrdered"),compProxy={setViewportHeight:height=>{eViewport.current&&(eViewport.current.style.height=height)},setRowCtrls:({rowCtrls,useFlushSync})=>{const useFlush=!!useFlushSync&&rowCtrlsRef.current.length>0&&rowCtrls.length>0;rowCtrlsRef.current=rowCtrls,updateRowCtrlsOrdered(useFlush)},setDomOrder:domOrder=>{domOrderRef.current!=domOrder&&(domOrderRef.current=domOrder,updateRowCtrlsOrdered(!1))},setContainerWidth:width=>{eContainer.current&&(eContainer.current.style.width=width)}};rowContainerCtrlRef.current=context.createBean(new RowContainerCtrl(name)),rowContainerCtrlRef.current.setComp(compProxy,eContainer.current,eViewport.current)}},[areElementsReady,areElementsRemoved]),setContainerRef=reactExports.useCallback(e=>{eContainer.current=e,setRef2()},[setRef2]),setViewportRef=reactExports.useCallback(e=>{eViewport.current=e,setRef2()},[setRef2]),buildContainer=__name(()=>React.createElement("div",{className:containerClasses,ref:setContainerRef,role:"rowgroup"},rowCtrlsOrdered.map(rowCtrl=>React.createElement(rowComp_default,{rowCtrl,containerType,key:rowCtrl.getInstanceId()}))),"buildContainer");return React.createElement(React.Fragment,null,centerTemplate?React.createElement("div",{className:viewportClasses,ref:setViewportRef,role:"presentation"},buildContainer()):buildContainer())},"RowContainerComp"),rowContainerComp_default=reactExports.memo(RowContainerComp),GridBodyComp=__name(()=>{const{context,agStackComponentsRegistry,resizeObserverService}=reactExports.useContext(BeansContext),[rowAnimationClass,setRowAnimationClass]=reactExports.useState(""),[topHeight,setTopHeight]=reactExports.useState(0),[bottomHeight,setBottomHeight]=reactExports.useState(0),[stickyTopHeight,setStickyTopHeight]=reactExports.useState("0px"),[stickyTopTop,setStickyTopTop]=reactExports.useState("0px"),[stickyTopWidth,setStickyTopWidth]=reactExports.useState("100%"),[topDisplay,setTopDisplay]=reactExports.useState(""),[bottomDisplay,setBottomDisplay]=reactExports.useState(""),[forceVerticalScrollClass,setForceVerticalScrollClass]=reactExports.useState(null),[topAndBottomOverflowY,setTopAndBottomOverflowY]=reactExports.useState(""),[cellSelectableCss,setCellSelectableCss]=reactExports.useState(null),[layoutClass,setLayoutClass]=reactExports.useState("ag-layout-normal");let cssClassManager=reactExports.useRef();cssClassManager.current||(cssClassManager.current=new CssClassManager(()=>eRoot.current));const eRoot=reactExports.useRef(null),eTop=reactExports.useRef(null),eStickyTop=reactExports.useRef(null),eBody=reactExports.useRef(null),eBodyViewport=reactExports.useRef(null),eBottom=reactExports.useRef(null),beansToDestroy=reactExports.useRef([]),destroyFuncs=reactExports.useRef([]);reactComment_default(" AG Grid Body ",eRoot),reactComment_default(" AG Pinned Top ",eTop),reactComment_default(" AG Sticky Top ",eStickyTop),reactComment_default(" AG Middle ",eBodyViewport),reactComment_default(" AG Pinned Bottom ",eBottom);const setRef2=reactExports.useCallback(e=>{if(eRoot.current=e,!eRoot.current){context.destroyBeans(beansToDestroy.current),destroyFuncs.current.forEach(f=>f()),beansToDestroy.current=[],destroyFuncs.current=[];return}if(!context)return;const newComp=__name(tag=>{const CompClass=agStackComponentsRegistry.getComponentClass(tag),comp=context.createBean(new CompClass);return beansToDestroy.current.push(comp),comp},"newComp"),attachToDom=__name((eParent,eChild)=>{eParent.appendChild(eChild),destroyFuncs.current.push(()=>eParent.removeChild(eChild))},"attachToDom");attachToDom(eRoot.current,document.createComment(" AG Fake Horizontal Scroll ")),attachToDom(eRoot.current,newComp("AG-FAKE-HORIZONTAL-SCROLL").getGui()),attachToDom(eRoot.current,document.createComment(" AG Overlay Wrapper ")),attachToDom(eRoot.current,newComp("AG-OVERLAY-WRAPPER").getGui()),eBody.current&&(attachToDom(eBody.current,document.createComment(" AG Fake Vertical Scroll ")),attachToDom(eBody.current,newComp("AG-FAKE-VERTICAL-SCROLL").getGui()));const compProxy={setRowAnimationCssOnBodyViewport:setRowAnimationClass,setColumnCount:count=>{eRoot.current&&_.setAriaColCount(eRoot.current,count)},setRowCount:count=>{eRoot.current&&_.setAriaRowCount(eRoot.current,count)},setTopHeight,setBottomHeight,setStickyTopHeight,setStickyTopTop,setStickyTopWidth,setTopDisplay,setBottomDisplay,setColumnMovingCss:(cssClass,flag)=>cssClassManager.current.addOrRemoveCssClass(cssClass,flag),updateLayoutClasses:setLayoutClass,setAlwaysVerticalScrollClass:setForceVerticalScrollClass,setPinnedTopBottomOverflowY:setTopAndBottomOverflowY,setCellSelectableCss:(cssClass,flag)=>setCellSelectableCss(flag?cssClass:null),setBodyViewportWidth:width=>{eBodyViewport.current&&(eBodyViewport.current.style.width=width)},registerBodyViewportResizeListener:listener=>{if(eBodyViewport.current){const unsubscribeFromResize=resizeObserverService.observeResize(eBodyViewport.current,listener);destroyFuncs.current.push(()=>unsubscribeFromResize())}}},ctrl=context.createBean(new GridBodyCtrl);beansToDestroy.current.push(ctrl),ctrl.setComp(compProxy,eRoot.current,eBodyViewport.current,eTop.current,eBottom.current,eStickyTop.current)},[]),rootClasses=reactExports.useMemo(()=>classesList("ag-root","ag-unselectable",layoutClass),[layoutClass]),bodyViewportClasses=reactExports.useMemo(()=>classesList("ag-body-viewport",rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss),[rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss]),bodyClasses=reactExports.useMemo(()=>classesList("ag-body",layoutClass),[layoutClass]),topClasses=reactExports.useMemo(()=>classesList("ag-floating-top",cellSelectableCss),[cellSelectableCss]),stickyTopClasses=reactExports.useMemo(()=>classesList("ag-sticky-top",cellSelectableCss),[cellSelectableCss]),bottomClasses=reactExports.useMemo(()=>classesList("ag-floating-bottom",cellSelectableCss),[cellSelectableCss]),topStyle=reactExports.useMemo(()=>({height:topHeight,minHeight:topHeight,display:topDisplay,overflowY:topAndBottomOverflowY}),[topHeight,topDisplay,topAndBottomOverflowY]),stickyTopStyle=reactExports.useMemo(()=>({height:stickyTopHeight,top:stickyTopTop,width:stickyTopWidth}),[stickyTopHeight,stickyTopTop,stickyTopWidth]),bottomStyle=reactExports.useMemo(()=>({height:bottomHeight,minHeight:bottomHeight,display:bottomDisplay,overflowY:topAndBottomOverflowY}),[bottomHeight,bottomDisplay,topAndBottomOverflowY]),createRowContainer=__name(container=>React.createElement(rowContainerComp_default,{name:container,key:`${container}-container`}),"createRowContainer"),createSection=__name(({section,children,className,style})=>React.createElement("div",{ref:section,className,role:"presentation",style},children.map(createRowContainer)),"createSection");return React.createElement("div",{ref:setRef2,className:rootClasses,role:"treegrid"},React.createElement(gridHeaderComp_default,null),createSection({section:eTop,className:topClasses,style:topStyle,children:[RowContainerName.TOP_LEFT,RowContainerName.TOP_CENTER,RowContainerName.TOP_RIGHT,RowContainerName.TOP_FULL_WIDTH]}),React.createElement("div",{className:bodyClasses,ref:eBody,role:"presentation"},createSection({section:eBodyViewport,className:bodyViewportClasses,children:[RowContainerName.LEFT,RowContainerName.CENTER,RowContainerName.RIGHT,RowContainerName.FULL_WIDTH]})),createSection({section:eStickyTop,className:stickyTopClasses,style:stickyTopStyle,children:[RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_RIGHT,RowContainerName.STICKY_TOP_FULL_WIDTH]}),createSection({section:eBottom,className:bottomClasses,style:bottomStyle,children:[RowContainerName.BOTTOM_LEFT,RowContainerName.BOTTOM_CENTER,RowContainerName.BOTTOM_RIGHT,RowContainerName.BOTTOM_FULL_WIDTH]}))},"GridBodyComp"),gridBodyComp_default=reactExports.memo(GridBodyComp),TabGuardCompRef=__name((props,forwardRef4)=>{const{children,eFocusableElement,onTabKeyDown,gridCtrl,forceFocusOutWhenTabGuardsAreEmpty}=props,{context}=reactExports.useContext(BeansContext),topTabGuardRef=reactExports.useRef(null),bottomTabGuardRef=reactExports.useRef(null),tabGuardCtrlRef=reactExports.useRef(),setTabIndex=__name(value=>{const processedValue=value==null?void 0:parseInt(value,10).toString();[topTabGuardRef,bottomTabGuardRef].forEach(tabGuard=>{var _a18,_b;processedValue===void 0?(_a18=tabGuard.current)==null||_a18.removeAttribute("tabindex"):(_b=tabGuard.current)==null||_b.setAttribute("tabindex",processedValue)})},"setTabIndex");reactExports.useImperativeHandle(forwardRef4,()=>({forceFocusOutOfContainer(up){var _a18;(_a18=tabGuardCtrlRef.current)==null||_a18.forceFocusOutOfContainer(up)}}));const setupCtrl=reactExports.useCallback(()=>{if(!topTabGuardRef.current&&!bottomTabGuardRef.current){context.destroyBean(tabGuardCtrlRef.current),tabGuardCtrlRef.current=null;return}if(topTabGuardRef.current&&bottomTabGuardRef.current){const compProxy={setTabIndex};tabGuardCtrlRef.current=context.createBean(new TabGuardCtrl({comp:compProxy,eTopGuard:topTabGuardRef.current,eBottomGuard:bottomTabGuardRef.current,eFocusableElement,onTabKeyDown,forceFocusOutWhenTabGuardsAreEmpty,focusInnerElement:fromBottom=>gridCtrl.focusInnerElement(fromBottom)}))}},[]),setTopRef=reactExports.useCallback(e=>{topTabGuardRef.current=e,setupCtrl()},[setupCtrl]),setBottomRef=reactExports.useCallback(e=>{bottomTabGuardRef.current=e,setupCtrl()},[setupCtrl]),createTabGuard=__name(side=>{const className=side==="top"?TabGuardClassNames.TAB_GUARD_TOP:TabGuardClassNames.TAB_GUARD_BOTTOM;return React.createElement("div",{className:`${TabGuardClassNames.TAB_GUARD} ${className}`,role:"presentation",ref:side==="top"?setTopRef:setBottomRef})},"createTabGuard");return React.createElement(React.Fragment,null,createTabGuard("top"),children,createTabGuard("bottom"))},"TabGuardCompRef"),TabGuardComp=reactExports.forwardRef(TabGuardCompRef),tabGuardComp_default=reactExports.memo(TabGuardComp),GridComp=__name(({context})=>{const[rtlClass,setRtlClass]=reactExports.useState(""),[keyboardFocusClass,setKeyboardFocusClass]=reactExports.useState(""),[layoutClass,setLayoutClass]=reactExports.useState(""),[cursor,setCursor]=reactExports.useState(null),[userSelect,setUserSelect]=reactExports.useState(null),[initialised,setInitialised]=reactExports.useState(!1),[tabGuardReady,setTabGuardReady]=reactExports.useState(),gridCtrlRef=reactExports.useRef(null),eRootWrapperRef=reactExports.useRef(null),tabGuardRef=reactExports.useRef(),[eGridBodyParent,setGridBodyParent]=reactExports.useState(null),focusInnerElementRef=reactExports.useRef(()=>{}),onTabKeyDown=reactExports.useCallback(()=>{},[]),beans=reactExports.useMemo(()=>context.isDestroyed()?null:context.getBean("beans"),[context]);reactComment_default(" AG Grid ",eRootWrapperRef);const setRef2=reactExports.useCallback(e=>{if(eRootWrapperRef.current=e,!eRootWrapperRef.current){context.destroyBean(gridCtrlRef.current),gridCtrlRef.current=null;return}if(context.isDestroyed())return;gridCtrlRef.current=context.createBean(new GridCtrl);const gridCtrl=gridCtrlRef.current;focusInnerElementRef.current=gridCtrl.focusInnerElement.bind(gridCtrl);const compProxy={destroyGridUi:()=>{},setRtlClass,forceFocusOutOfContainer:up=>{var _a18;(_a18=tabGuardRef.current)==null||_a18.forceFocusOutOfContainer(up)},updateLayoutClasses:setLayoutClass,getFocusableContainers:()=>{var _a18,_b;const els=[],gridBodyCompEl=(_a18=eRootWrapperRef.current)==null?void 0:_a18.querySelector(".ag-root"),sideBarEl=(_b=eRootWrapperRef.current)==null?void 0:_b.querySelector(".ag-side-bar:not(.ag-hidden)");return gridBodyCompEl&&els.push(gridBodyCompEl),sideBarEl&&els.push(sideBarEl),els},setCursor,setUserSelect};gridCtrl.setComp(compProxy,eRootWrapperRef.current,eRootWrapperRef.current),setInitialised(!0)},[]);reactExports.useEffect(()=>{if(!tabGuardReady||!beans||!gridCtrlRef.current||!eGridBodyParent||!eRootWrapperRef.current)return;const gridCtrl=gridCtrlRef.current,beansToDestroy=[],{agStackComponentsRegistry}=beans,HeaderDropZonesClass=agStackComponentsRegistry.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),SideBarClass=agStackComponentsRegistry.getComponentClass("AG-SIDE-BAR"),StatusBarClass=agStackComponentsRegistry.getComponentClass("AG-STATUS-BAR"),WatermarkClass=agStackComponentsRegistry.getComponentClass("AG-WATERMARK"),PaginationClass=agStackComponentsRegistry.getComponentClass("AG-PAGINATION"),additionalEls=[],eRootWrapper=eRootWrapperRef.current;if(gridCtrl.showDropZones()&&HeaderDropZonesClass){const headerDropZonesComp=context.createBean(new HeaderDropZonesClass),eGui=headerDropZonesComp.getGui();eRootWrapper.insertAdjacentElement("afterbegin",eGui),additionalEls.push(eGui),beansToDestroy.push(headerDropZonesComp)}if(gridCtrl.showSideBar()&&SideBarClass){const sideBarComp=context.createBean(new SideBarClass),eGui=sideBarComp.getGui(),bottomTabGuard=eGridBodyParent.querySelector(".ag-tab-guard-bottom");bottomTabGuard&&(bottomTabGuard.insertAdjacentElement("beforebegin",eGui),additionalEls.push(eGui)),beansToDestroy.push(sideBarComp)}if(gridCtrl.showStatusBar()&&StatusBarClass){const statusBarComp=context.createBean(new StatusBarClass),eGui=statusBarComp.getGui();eRootWrapper.insertAdjacentElement("beforeend",eGui),additionalEls.push(eGui),beansToDestroy.push(statusBarComp)}if(PaginationClass){const paginationComp=context.createBean(new PaginationClass),eGui=paginationComp.getGui();eRootWrapper.insertAdjacentElement("beforeend",eGui),additionalEls.push(eGui),beansToDestroy.push(paginationComp)}if(gridCtrl.showWatermark()&&WatermarkClass){const watermarkComp=context.createBean(new WatermarkClass),eGui=watermarkComp.getGui();eRootWrapper.insertAdjacentElement("beforeend",eGui),additionalEls.push(eGui),beansToDestroy.push(watermarkComp)}return()=>{context.destroyBeans(beansToDestroy),additionalEls.forEach(el=>{el.parentElement&&el.parentElement.removeChild(el)})}},[tabGuardReady,eGridBodyParent,beans]);const rootWrapperClasses=reactExports.useMemo(()=>classesList("ag-root-wrapper",rtlClass,keyboardFocusClass,layoutClass),[rtlClass,keyboardFocusClass,layoutClass]),rootWrapperBodyClasses=reactExports.useMemo(()=>classesList("ag-root-wrapper-body","ag-focus-managed",layoutClass),[layoutClass]),topStyle=reactExports.useMemo(()=>({userSelect:userSelect??"",WebkitUserSelect:userSelect??"",cursor:cursor??""}),[userSelect,cursor]),setTabGuardCompRef=reactExports.useCallback(ref=>{tabGuardRef.current=ref,setTabGuardReady(ref!==null)},[]);return React.createElement("div",{ref:setRef2,className:rootWrapperClasses,style:topStyle,role:"presentation"},React.createElement("div",{className:rootWrapperBodyClasses,ref:setGridBodyParent,role:"presentation"},initialised&&eGridBodyParent&&beans&&React.createElement(BeansContext.Provider,{value:beans},React.createElement(tabGuardComp_default,{ref:setTabGuardCompRef,eFocusableElement:eGridBodyParent,onTabKeyDown,gridCtrl:gridCtrlRef.current,forceFocusOutWhenTabGuardsAreEmpty:!0},React.createElement(gridBodyComp_default,null)))))},"GridComp"),gridComp_default=reactExports.memo(GridComp),AgGridReactUi=__name(props=>{var _a18,_b;const apiRef=reactExports.useRef(),eGui=reactExports.useRef(null),portalManager=reactExports.useRef(null),destroyFuncs=reactExports.useRef([]),whenReadyFuncs=reactExports.useRef([]),prevProps=reactExports.useRef(props),ready=reactExports.useRef(!1),[context,setContext]=reactExports.useState(void 0),[,setPortalRefresher]=reactExports.useState(0),setRef2=reactExports.useCallback(e=>{if(eGui.current=e,!eGui.current){destroyFuncs.current.forEach(f=>f()),destroyFuncs.current.length=0;return}const modules=props.modules||[];portalManager.current||(portalManager.current=new PortalManager(()=>setPortalRefresher(prev=>prev+1),props.componentWrappingElement,props.maxComponentCreationTimeMs),destroyFuncs.current.push(()=>{var _a22;(_a22=portalManager.current)==null||_a22.destroy(),portalManager.current=null}));const mergedGridOps=ComponentUtil.combineAttributesAndGridOptions(props.gridOptions,props),gridParams={providedBeanInstances:{frameworkComponentWrapper:new ReactFrameworkComponentWrapper(portalManager.current,!!mergedGridOps.reactiveCustomComponents)},modules,frameworkOverrides:new ReactFrameworkOverrides},createUiCallback=__name(context2=>{setContext(context2),destroyFuncs.current.push(()=>{context2.destroy()}),context2.getBean(CtrlsService.NAME).whenReady(()=>{if(context2.isDestroyed())return;const api=apiRef.current;api&&props.setGridApi&&props.setGridApi(api,new ColumnApi(api))})},"createUiCallback"),acceptChangesCallback=__name(context2=>{context2.getBean(CtrlsService.NAME).whenReady(()=>{whenReadyFuncs.current.forEach(f=>f()),whenReadyFuncs.current.length=0,ready.current=!0})},"acceptChangesCallback"),gridCoreCreator=new GridCoreCreator;apiRef.current=gridCoreCreator.create(eGui.current,mergedGridOps,createUiCallback,acceptChangesCallback,gridParams)},[]),style=reactExports.useMemo(()=>__spreadValues({height:"100%"},props.containerStyle||{}),[props.containerStyle]),processWhenReady=reactExports.useCallback(func=>{ready.current?func():whenReadyFuncs.current.push(func)},[]);return reactExports.useEffect(()=>{const changes=extractGridPropertyChanges(prevProps.current,props);prevProps.current=props,processWhenReady(()=>{apiRef.current&&ComponentUtil.processOnChange(changes,apiRef.current)})},[props]),React.createElement("div",{style,className:props.className,ref:setRef2},context&&!context.isDestroyed()?React.createElement(gridComp_default,{context}):null,(_b=(_a18=portalManager.current)==null?void 0:_a18.getPortals())!=null?_b:null)},"AgGridReactUi");function extractGridPropertyChanges(prevProps,nextProps){const changes={};return Object.keys(nextProps).forEach(propKey=>{const propValue=nextProps[propKey];prevProps[propKey]!==propValue&&(changes[propKey]=propValue)}),changes}__name(extractGridPropertyChanges,"extractGridPropertyChanges");var _a15,ReactFrameworkComponentWrapper=(_a15=class extends BaseComponentWrapper{constructor(parent,reactiveCustomComponents){super(),this.parent=parent,this.reactiveCustomComponents=reactiveCustomComponents}createWrapper(UserReactComponent,componentType){if(this.reactiveCustomComponents){const ComponentClass=__name(propertyName=>{switch(propertyName){case"filter":return FilterComponentWrapper;case"floatingFilterComponent":return FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"loadingOverlayComponent":return LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return NoRowsOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper}},"getComponentClass")(componentType.propertyName);if(ComponentClass)return new ComponentClass(UserReactComponent,this.parent,componentType)}else switch(componentType.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":warnReactiveCustomComponents();break}const suppressFallbackMethods=!componentType.cellRenderer&&componentType.propertyName!=="toolPanel";return new ReactComponent(UserReactComponent,this.parent,componentType,suppressFallbackMethods)}},__name(_a15,"ReactFrameworkComponentWrapper"),_a15),DetailCellRenderer=reactExports.forwardRef((props,ref)=>{const{ctrlsFactory,context,gridOptionsService,resizeObserverService,clientSideRowModel,serverSideRowModel}=reactExports.useContext(BeansContext),[cssClasses,setCssClasses]=reactExports.useState(()=>new CssClasses),[gridCssClasses,setGridCssClasses]=reactExports.useState(()=>new CssClasses),[detailGridOptions,setDetailGridOptions]=reactExports.useState(),[detailRowData,setDetailRowData]=reactExports.useState(),ctrlRef=reactExports.useRef(),eGuiRef=reactExports.useRef(null),resizeObserverDestroyFunc=reactExports.useRef(),parentModules=reactExports.useMemo(()=>ModuleRegistry.__getGridRegisteredModules(props.api.getGridId()),[props]),topClassName=reactExports.useMemo(()=>cssClasses.toString()+" ag-details-row",[cssClasses]),gridClassName=reactExports.useMemo(()=>gridCssClasses.toString()+" ag-details-grid",[gridCssClasses]);ref&&reactExports.useImperativeHandle(ref,()=>({refresh(){var _a18,_b;return(_b=(_a18=ctrlRef.current)==null?void 0:_a18.refresh())!=null?_b:!1}})),props.template&&_.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const setRef2=reactExports.useCallback(e=>{if(eGuiRef.current=e,!eGuiRef.current){context.destroyBean(ctrlRef.current),resizeObserverDestroyFunc.current&&resizeObserverDestroyFunc.current();return}const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses(prev=>prev.setClass(name,on)),addOrRemoveDetailGridCssClass:(name,on)=>setGridCssClasses(prev=>prev.setClass(name,on)),setDetailGrid:gridOptions=>setDetailGridOptions(gridOptions),setRowData:rowData=>setDetailRowData(rowData),getGui:()=>eGuiRef.current},ctrl=ctrlsFactory.getInstance("detailCellRenderer");if(ctrl&&(context.createBean(ctrl),ctrl.init(compProxy,props),ctrlRef.current=ctrl,gridOptionsService.get("detailRowAutoHeight"))){const checkRowSizeFunc=__name(()=>{if(eGuiRef.current==null)return;const clientHeight=eGuiRef.current.clientHeight;clientHeight!=null&&clientHeight>0&&setTimeout(__name(()=>{props.node.setRowHeight(clientHeight),clientSideRowModel?clientSideRowModel.onRowHeightChanged():serverSideRowModel&&serverSideRowModel.onRowHeightChanged()},"updateRowHeightFunc"),0)},"checkRowSizeFunc");resizeObserverDestroyFunc.current=resizeObserverService.observeResize(eGuiRef.current,checkRowSizeFunc),checkRowSizeFunc()}},[]),setGridApi=reactExports.useCallback((api,columnApi)=>{var _a18;(_a18=ctrlRef.current)==null||_a18.registerDetailWithMaster(api,columnApi)},[]);return React.createElement("div",{className:topClassName,ref:setRef2},detailGridOptions&&React.createElement(AgGridReactUi,__spreadProps(__spreadValues({className:gridClassName},detailGridOptions),{modules:parentModules,rowData:detailRowData,setGridApi})))}),_a16,ReactFrameworkOverrides=(_a16=class extends VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(callback,source)=>source==="ensureVisible"?runWithoutFlushSync(callback):callback(),this.renderingEngine="react"}frameworkComponent(name){return this.frameworkComponents[name]}isFrameworkComponent(comp){if(!comp)return!1;const prototype=comp.prototype;return!(prototype&&"getGui"in prototype)}},__name(_a16,"ReactFrameworkOverrides"),_a16),_a17,AgGridReact=(_a17=class extends reactExports.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(api,columnApi)=>{this.api=api,this.columnApi=columnApi,this.apiListeners.forEach(listener=>listener(api))}}registerApiListener(listener){this.apiListeners.push(listener)}componentWillUnmount(){this.apiListeners.length=0}render(){return React.createElement(AgGridReactUi,__spreadProps(__spreadValues({},this.props),{setGridApi:this.setGridApi}))}},__name(_a17,"AgGridReact"),_a17);export{AgGridReact as A};
//# sourceMappingURL=ag-grid-react-B7CJvcKQ.js.map
